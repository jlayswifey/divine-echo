<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Divine Echo | I Have a Story and I Want to Tell It</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
<style>
body{
  margin:0;
  font-family:sans-serif;
  color:white;
  text-align:center;
  background:#000;
  overflow-x:hidden;
}

/* Animated Starfield */
body::before{
  content:"";
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background-image:
  radial-gradient(2px 2px at 20% 30%, white, transparent),
  radial-gradient(2px 2px at 80% 70%, white, transparent),
  radial-gradient(1px 1px at 50% 50%, white, transparent),
  radial-gradient(2px 2px at 90% 10%, white, transparent),
  radial-gradient(1px 1px at 10% 80%, white, transparent),
  radial-gradient(2px 2px at 60% 20%, white, transparent),
  radial-gradient(1px 1px at 30% 60%, white, transparent),
  radial-gradient(2px 2px at 75% 40%, white, transparent);
  background-repeat:repeat;
  animation:moveStars 20s linear infinite;
  opacity:1;
  pointer-events:none;
  z-index:0;
}

  /* Nebula Haze */
body::after{
  content:"";
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:
    radial-gradient(circle at 30% 40%, rgba(56,189,248,0.15), transparent 40%),
    radial-gradient(circle at 70% 60%, rgba(125,211,252,0.1), transparent 50%);
  pointer-events:none;
  z-index:0;
}

@keyframes moveStars{
  from{transform:translateY(0);}
  to{transform:translateY(-1000px);}
}

h1,h2,h3{color:#a5f3fc}

/* Divine Glow Behind Cross */
.glow-cross{
  font-size:70px;
  position:relative;
  margin:1.5rem auto;
  color:#7dd3fc;
  text-shadow:0 0 20px #38bdf8,0 0 40px #7dd3fc,0 0 60px #38bdf8;
}

.glow-cross::before{
  content:"";
  position:absolute;
  width:200px;
  height:200px;
  background: radial-gradient(circle, rgba(56,189,248,0.4) 0%, transparent 70%);
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  z-index:-1;
}

/* Glassmorphism Cards */
.section-box{
  backdrop-filter:blur(12px);
  background:rgba(17,24,39,0.6);
  border:1px solid rgba(125,211,252,0.2);
  padding:2rem;
  border-radius:20px;
  margin:2rem auto;
  max-width:900px;
  text-align:left;
  transition:all 0.5s ease;
}

.section-box:hover{
  transform:translateY(-5px);
  box-shadow:0 0 30px rgba(56,189,248,0.3);
}

/* Smooth Section Fade-in */
.section-box{
  opacity:0;
  animation:fadeIn 1.2s forwards;
}

@keyframes fadeIn{
  to{opacity:1;}
}

button{
  background:#38bdf8;
  color:#0b1120;
  padding:0.8rem 1.5rem;
  border:none;
  border-radius:12px;
  cursor:pointer;
  transition:all 0.3s ease;
}

button:hover{
  background:#7dd3fc;
  transform:scale(1.05);
}

audio,video{
  width:100%;
  margin-top:1rem;
  border-radius:12px;
}
</style>
</head>
<body>
<main class="container">
<h1>Divine Echo</h1>
<p><em>I Have a Story and I Want to Tell It</em></p>
<div class="glow-cross">✝</div>

<div class="section-box">
<h2>Like</h2>
<button onclick="likePost()">❤️ Like</button>
<p id="likeCount"></p>
</div>

<div class="section-box">
<h2>Comments</h2>
<textarea id="commentText" rows="3" placeholder="Share your thoughts..."></textarea>
<button onclick="postComment()">Post</button>
<div id="comments"></div>
</div>

<div class="section-box">
<h2>Upload Media (Podcast / Reel / Video)</h2>
<form id="uploadForm">
<input type="file" name="media" required>
<button type="submit">Upload</button>
</form>
<div id="mediaGallery"></div>
</div>

<div class="section-box">
<h2>Ongoing Projects</h2>
<p>Upload discussions, sermons, quantum metaphysical explorations, reels and podcasts.</p>
</div>

<div class="section-box">
<h2>Podcast Feed</h2>
<p>Your RSS feed will be available at:</p>
<p><strong>/podcast</strong></p>
</div>

</main>

<script>
async function likePost(){const res=await fetch('/like',{method:'POST'});const data=await res.json();document.getElementById('likeCount').innerText="Total Likes: "+data.count;}
async function loadLikes(){const res=await fetch('/likes');const data=await res.json();document.getElementById('likeCount').innerText="Total Likes: "+data.count;}
async function postComment(){const content=document.getElementById('commentText').value;if(!content)return;await fetch('/comment',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({content})});document.getElementById('commentText').value="";loadComments();}
async function loadComments(){const res=await fetch('/comments');const comments=await res.json();const div=document.getElementById('comments');div.innerHTML=comments.map(c=>`<p>${c.content}</p>`).join('');}
const form=document.getElementById('uploadForm');
form.addEventListener('submit',async e=>{e.preventDefault();const formData=new FormData(form);const res=await fetch('/upload',{method:'POST',body:formData});const data=await res.json();document.getElementById('mediaGallery').innerHTML+=`<audio controls src='${data.file}'></audio>`;});
loadLikes();
loadComments();
</script>

</body>
</html>

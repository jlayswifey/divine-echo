<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Divine Echo | I Have a Story and I Want to Tell It</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
<style>
body{background:#0b1120;color:white;font-family:sans-serif;text-align:center;padding:2rem;}
h1,h2,h3{color:#7dd3fc}
.glow-cross{font-size:60px;color:#7dd3fc;text-shadow:0 0 20px #38bdf8,0 0 40px #7dd3fc,0 0 60px #38bdf8;animation:pulse 2s infinite;margin:1rem auto}
@keyframes pulse{0%,100%{text-shadow:0 0 20px #38bdf8,0 0 40px #7dd3fc,0 0 60px #38bdf8;}50%{text-shadow:0 0 30px #7dd3fc,0 0 50px #38bdf8,0 0 70px #7dd3fc;}}
.section-box{background:#111827;padding:2rem;border-radius:12px;margin:2rem auto;max-width:900px;text-align:left;}
button{background:#38bdf8;color:#0b1120;padding:1rem 2rem;border:none;border-radius:12px;font-size:1.1rem;cursor:pointer;}
button:hover{background:#7dd3fc;}
audio,video{width:100%;margin-top:1rem;border-radius:8px;}
input,textarea{margin-top:0.5rem;}
</style>
</head>
<body>
<main class="container">
<h1>Divine Echo</h1>
<p><em>I Have a Story and I Want to Tell It</em></p>
<div class="glow-cross">✝</div>

<div class="section-box">
<h2>Like</h2>
<button onclick="likePost()">❤️ Like</button>
<p id="likeCount"></p>
</div>

<div class="section-box">
<h2>Comments</h2>
<textarea id="commentText" rows="3" placeholder="Share your thoughts..."></textarea>
<button onclick="postComment()">Post</button>
<div id="comments"></div>
</div>

<div class="section-box">
<h2>Upload Media (Podcast / Reel / Video)</h2>
<form id="uploadForm">
<input type="file" name="media" required>
<button type="submit">Upload</button>
</form>
<div id="mediaGallery"></div>
</div>

<div class="section-box">
<h2>Ongoing Projects</h2>
<p>Upload discussions, sermons, quantum metaphysical explorations, reels and podcasts.</p>
</div>

<div class="section-box">
<h2>Podcast Feed</h2>
<p>Your RSS feed will be available at:</p>
<p><strong>/podcast</strong></p>
</div>

</main>

<script>
async function likePost(){const res=await fetch('/like',{method:'POST'});const data=await res.json();document.getElementById('likeCount').innerText="Total Likes: "+data.count;}
async function loadLikes(){const res=await fetch('/likes');const data=await res.json();document.getElementById('likeCount').innerText="Total Likes: "+data.count;}
async function postComment(){const content=document.getElementById('commentText').value;if(!content)return;await fetch('/comment',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({content})});document.getElementById('commentText').value="";loadComments();}
async function loadComments(){const res=await fetch('/comments');const comments=await res.json();const div=document.getElementById('comments');div.innerHTML=comments.map(c=>`<p>${c.content}</p>`).join('');}
const form=document.getElementById('uploadForm');
form.addEventListener('submit',async e=>{e.preventDefault();const formData=new FormData(form);const res=await fetch('/upload',{method:'POST',body:formData});const data=await res.json();document.getElementById('mediaGallery').innerHTML+=`<audio controls src='${data.file}'></audio>`;});
loadLikes();
loadComments();
</script>

</body>
</html>
